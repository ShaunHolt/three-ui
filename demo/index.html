<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>Io Threejs â€¢ Demo</title>
    <meta name="description" content="Todo app MVC made with io custom elements library." />
    <style>
      html {
        font-family: Arial, Helvetica, sans-serif;
        letter-spacing: 0.05em;
        font-weight: 300;
      }
    </style>
    <script type="module">
    import {IoElement, html} from "../../io/src/io.js";
    import "../src/io-three.js";

    import {data} from "./data.js";

    export class IoDemo extends IoElement {
      static get style() {
        return html`
        <style>
          :host .demo {
            margin: 1em;
            padding: 0.5em;
            background: #eee;
          }
          :host .demoLabel {
            padding: 0.25em;
            margin: -0.5em -0.5em 0.5em -0.5em;
            background: #ccc;
          }
        </style>
        `;
      }
      static get properties() {
        return {
          value: function() { return data.scene; }
        }
      }
      static get listeners() {
        return {
          'value-set': '_onValueSet'
        };
      }
      _onValueSet() {
        this.dispatchEvent('object-mutated', {object: this, key: '*'}, false, window);
      }
      changed(props) {
        this.template([
          ['io-option', {value: this.bind('value'), options: [
            {label: 'Scene', value: data.scene},
            {label: 'Camera', value: data.scene.children[0]},
            {label: 'Light', value: data.scene.children[1]},
            {label: 'Mesh', value: data.scene.children[2]},
            {label: 'Geometry', value: data.scene.children[2].geometry},
            {label: 'Material', value: data.scene.children[2].material},
          ]}],
          ['div', {className: 'demo'}, [
            ['div', {className: 'demoLabel'}, 'io-inspector'],
            ['io-inspector', {value: this.value, groups: {'vectors': ['vec2', 'vec3', 'vec4']}, expanded: ['vectors']}],
          ]],
        ]);
      }
    }

    IoDemo.Register();
    </script>
  </head>
  <body>
    <io-demo></io-demo>
  </body>
</html>
